{% set foreman = salt['grains.filter_by']({
    'default': {
        'installer_options': [],
        'tftp_root': "/srv/tftp",
        'config': [{
          'name': "/etc/dnsmasq.d/",
          'source': 'salt://foreman/config/dnsmasq.d/'
        }, {
          'name': "/etc/foreman-proxy/",
          'source': 'salt://foreman/config/foreman-proxy/'
        },{
          'name': "/etc/salt/",
          'source': 'salt://foreman/config/salt/'
        },{
          'name': "/srv/tftp/",
          'source': 'salt://foreman/config/tftp/'
        }],
        'ssl_base_dir': "/etc/foreman/ssl",
        'ca_cert_location': "/etc/foreman/ssl/certs/ca.crt.pem",
        'server_cert_location': "/etc/foreman/ssl/certs/foreman.crt.pem",
        'server_proxy_cert_location': "/etc/foreman/ssl/certs/foreman-proxy.crt.pem",
        'server_key_location': "/etc/foreman/ssl/private/foreman.key.pem",
        'server_proxy_key_location': "/etc/foreman/ssl/private/foreman-proxy.key.pem",
        'server_crl_location': "/etc/foreman/ssl/crl.pem",
    },
}, merge=salt['grains.filter_by']({
       'stretch': {
            'pkg_name': "foreman-installer",
            'names': [
                "deb http://deb.theforeman.org/ stretch 1.23",
                "deb http://deb.theforeman.org/ plugins 1.23"
            ],
            'file': "/etc/apt/sources.list.d/foreman.list",
            'key_url': "https://deb.theforeman.org/pubkey.gpg"
       }
   }, grain='oscodename', merge=salt['pillar.get']('foreman'))) %}
