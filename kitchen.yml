driver:
  name: vagrant
#  provider: lxc
  provider: libvirt

provisioner:
  name: salt_solo
  salt_install: bootstrap
  salt_bootstrap_url: https://bootstrap.saltstack.com
  salt_version: latest
  require_chef: false
  is_file_root: false
  local_salt_root: salt
  salt_copy_filter:
    - kitchen.yml
    - .travis.yml
    - README.md
    - requisites.sh
    - setup.sh
    - setup_foreman.sh
    - setup_salt.sh
    - upload_templates.py
    - Vagrantfile
    - util/
    - requisites/
    - extensions/
    - config/
    - .travis/
  state_top:
    server:
      "*":
        - os
        - samba
        - mail
        - lxc
        - users
        - java
        - scala
        - sbt
        - maven
        - virtualbox
        - docker
        - kvm
  pillars:
    top.sls:
      base:
        '*':
          - base
          - pkgs_base
          - one_user
  pillar-from-files:
    base.sls: .travis/pillar/masterless/base.sls
    pkgs_base.sls: .travis/pillar/masterless/pkgs_base.sls
    one_user.sls: .travis/pillar/masterless/one_user.sls

platforms:
  - name: debian
    driver:
      box: "debian/stretch64"
    driver_config:
      run_command: /lib/systemd/systemd

suites:
  - name: default
